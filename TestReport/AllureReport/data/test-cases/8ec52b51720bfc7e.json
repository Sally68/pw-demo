{"uid":"8ec52b51720bfc7e","name":"Login01_密码错误登录失败","fullName":"TestCase.Test_Login.TestLogin#test_login","historyId":"2fb95e708d7d18464074996dc1b3a424","time":{"start":1765594665018,"stop":1765594665889,"duration":871},"status":"broken","statusMessage":"ValueError: Unsupported type: <class 'method'>","statusTrace":"self = <TestCase.Test_Login.TestLogin object at 0x00000263CBB563B0>\npage = <Page url='https://qa.eshippingit.com/login'>\nCaseData = {'url地址': 'https://qa.eshippingit.com/login', '优先级': 'blocker', '功能': '登录', '密码': 'yang111111A', ...}\n\n    @pytest.mark.run(order=1)\n    @PrettyAllure.PrettyAllureWarpper\n    @pytest.mark.parametrize(\"CaseData\", ReadYaml(os.path.join(Config.test_datas_dir, \"TestLoginData.yaml\")).read())\n    def test_login(self, page, CaseData: dict):\n        new_page = LoginPage(page)\n        # PrettyAllure(page, CaseData).PrettyAllureCase()\n        new_page.goto_login(CaseData[\"url地址\"])\n        new_page.fill_username(CaseData[\"账号\"])\n        new_page.fill_password(CaseData[\"密码\"])\n        new_page.click_login_button()\n>       expect(new_page.goto_login).to_be_visible()\n\nTestCase\\Test_Login.py:23: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright.sync_api.Expect object at 0x00000263CA85DB40>\nactual = <bound method LoginPage.goto_login of <Pages.LoginPage.LoginPage.LoginPage object at 0x00000263CBB55690>>\nmessage = None\n\n    def __call__(\n        self, actual: Union[Page, Locator, APIResponse], message: Optional[str] = None\n    ) -> Union[PageAssertions, LocatorAssertions, APIResponseAssertions]:\n        if isinstance(actual, Page):\n            return PageAssertions(\n                PageAssertionsImpl(actual._impl_obj, self._timeout, message=message)\n            )\n        elif isinstance(actual, Locator):\n            return LocatorAssertions(\n                LocatorAssertionsImpl(actual._impl_obj, self._timeout, message=message)\n            )\n        elif isinstance(actual, APIResponse):\n            return APIResponseAssertions(\n                APIResponseAssertionsImpl(\n                    actual._impl_obj, self._timeout, message=message\n                )\n            )\n>       raise ValueError(f\"Unsupported type: {type(actual)}\")\nE       ValueError: Unsupported type: <class 'method'>\n\nC:\\Users\\lenove\\miniconda3\\envs\\ui_auto\\lib\\site-packages\\playwright\\sync_api\\__init__.py:144: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1765594658382,"stop":1765594658382,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"base_url","time":{"start":1765594658382,"stop":1765594658382,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"pytestconfig","time":{"start":1765594658383,"stop":1765594658383,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"delete_output_dir","time":{"start":1765594658383,"stop":1765594658383,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"auth","time":{"start":1765594658383,"stop":1765594658384,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"page","time":{"start":1765594658384,"stop":1765594662236,"duration":3852},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"testStage":{"status":"broken","statusMessage":"ValueError: Unsupported type: <class 'method'>","statusTrace":"self = <TestCase.Test_Login.TestLogin object at 0x00000263CBB563B0>\npage = <Page url='https://qa.eshippingit.com/login'>\nCaseData = {'url地址': 'https://qa.eshippingit.com/login', '优先级': 'blocker', '功能': '登录', '密码': 'yang111111A', ...}\n\n    @pytest.mark.run(order=1)\n    @PrettyAllure.PrettyAllureWarpper\n    @pytest.mark.parametrize(\"CaseData\", ReadYaml(os.path.join(Config.test_datas_dir, \"TestLoginData.yaml\")).read())\n    def test_login(self, page, CaseData: dict):\n        new_page = LoginPage(page)\n        # PrettyAllure(page, CaseData).PrettyAllureCase()\n        new_page.goto_login(CaseData[\"url地址\"])\n        new_page.fill_username(CaseData[\"账号\"])\n        new_page.fill_password(CaseData[\"密码\"])\n        new_page.click_login_button()\n>       expect(new_page.goto_login).to_be_visible()\n\nTestCase\\Test_Login.py:23: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <playwright.sync_api.Expect object at 0x00000263CA85DB40>\nactual = <bound method LoginPage.goto_login of <Pages.LoginPage.LoginPage.LoginPage object at 0x00000263CBB55690>>\nmessage = None\n\n    def __call__(\n        self, actual: Union[Page, Locator, APIResponse], message: Optional[str] = None\n    ) -> Union[PageAssertions, LocatorAssertions, APIResponseAssertions]:\n        if isinstance(actual, Page):\n            return PageAssertions(\n                PageAssertionsImpl(actual._impl_obj, self._timeout, message=message)\n            )\n        elif isinstance(actual, Locator):\n            return LocatorAssertions(\n                LocatorAssertionsImpl(actual._impl_obj, self._timeout, message=message)\n            )\n        elif isinstance(actual, APIResponse):\n            return APIResponseAssertions(\n                APIResponseAssertionsImpl(\n                    actual._impl_obj, self._timeout, message=message\n                )\n            )\n>       raise ValueError(f\"Unsupported type: {type(actual)}\")\nE       ValueError: Unsupported type: <class 'method'>\n\nC:\\Users\\lenove\\miniconda3\\envs\\ui_auto\\lib\\site-packages\\playwright\\sync_api\\__init__.py:144: ValueError","steps":[{"name":"打开登录页面","time":{"start":1765594665019,"stop":1765594665725,"duration":706},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"url","value":"'https://qa.eshippingit.com/login'"}],"stepsCount":0,"attachmentStep":false,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"输入账号","time":{"start":1765594665725,"stop":1765594665805,"duration":80},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"value","value":"'yangsufen@eshippinggateway.com'"}],"stepsCount":0,"attachmentStep":false,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"输入密码","time":{"start":1765594665806,"stop":1765594665867,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"value","value":"'yang111111A'"}],"stepsCount":0,"attachmentStep":false,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"点击登录按钮","time":{"start":1765594665867,"stop":1765594665889,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"添加失败截图...","time":{"start":1765594665913,"stop":1765594666323,"duration":410},"status":"passed","steps":[],"attachments":[{"uid":"cf166179b5006eee","name":"失败截图","source":"cf166179b5006eee.png","type":"image/png","size":435536}],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":true,"attachmentsCount":1,"shouldDisplayMessage":false}],"attachments":[],"parameters":[],"stepsCount":5,"attachmentStep":false,"hasContent":true,"attachmentsCount":1,"shouldDisplayMessage":true},"afterStages":[{"name":"page::0","time":{"start":1765594668875,"stop":1765594670594,"duration":1719},"status":"broken","statusMessage":"FileNotFoundError: [Errno 2] No such file or directory: 'D:\\\\projects\\\\vss_playwright_ui_test-master\\\\Auth\\\\auth.json'\n","statusTrace":"  File \"C:\\Users\\lenove\\miniconda3\\envs\\ui_auto\\lib\\site-packages\\allure_commons\\_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"C:\\Users\\lenove\\miniconda3\\envs\\ui_auto\\lib\\site-packages\\_pytest\\fixtures.py\", line 911, in _teardown_yield_fixture\n    next(it)\n  File \"D:\\projects\\vss_playwright_ui_test-master\\conftest.py\", line 37, in page\n    context.storage_state(path= new_path)\n  File \"C:\\Users\\lenove\\miniconda3\\envs\\ui_auto\\lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 13511, in storage_state\n    self._sync(self._impl_obj.storage_state(path=path, indexedDB=indexed_db))\n  File \"C:\\Users\\lenove\\miniconda3\\envs\\ui_auto\\lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"C:\\Users\\lenove\\miniconda3\\envs\\ui_auto\\lib\\site-packages\\playwright\\_impl\\_browser_context.py\", line 630, in storage_state\n    await async_writefile(path, json.dumps(result))\n  File \"C:\\Users\\lenove\\miniconda3\\envs\\ui_auto\\lib\\site-packages\\playwright\\_impl\\_helper.py\", line 528, in async_writefile\n    await loop.run_in_executor(None, inner)\n  File \"C:\\Users\\lenove\\miniconda3\\envs\\ui_auto\\lib\\concurrent\\futures\\thread.py\", line 58, in run\n    result = self.fn(*self.args, **self.kwargs)\n  File \"C:\\Users\\lenove\\miniconda3\\envs\\ui_auto\\lib\\site-packages\\playwright\\_impl\\_helper.py\", line 524, in inner\n    with open(file, \"w\" if isinstance(data, str) else \"wb\") as fh:\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":true,"attachmentsCount":0,"shouldDisplayMessage":true},{"name":"auth::0","time":{"start":1765594670597,"stop":1765594670598,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentStep":false,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"labels":[{"name":"feature","value":"用户"},{"name":"story","value":"登录"},{"name":"severity","value":"blocker"},{"name":"parentSuite","value":"TestCase"},{"name":"suite","value":"Test_Login"},{"name":"subSuite","value":"TestLogin"},{"name":"host","value":"LAPTOP-NRHEH7I5"},{"name":"thread","value":"51516-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"TestCase.Test_Login"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"CaseData","value":"{'用例编号': 'Login01', '模块': '用户', '功能': '登录', '优先级': 'blocker', '是否执行': 'Y', '用例标题': '密码错误登录失败', '账号': 'yangsufen@eshippinggateway.com', '密码': 'yang111111A', 'url地址': 'https://qa.eshippingit.com/login'}"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"8ec52b51720bfc7e.json","parameterValues":["{'用例编号': 'Login01', '模块': '用户', '功能': '登录', '优先级': 'blocker', '是否执行': 'Y', '用例标题': '密码错误登录失败', '账号': 'yangsufen@eshippinggateway.com', '密码': 'yang111111A', 'url地址': 'https://qa.eshippingit.com/login'}"]}